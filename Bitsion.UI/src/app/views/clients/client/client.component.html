@if(client){
  <div>  
    <!-- este es el formulario en modo edición -->
    @if(isEditing){
      <form #clientForm="ngForm" (ngSubmit)="onSave(clientForm)">
        <div>
          <label for="id">ID:</label>
          <input id="id" [(ngModel)]="client.id" name="id" required readonly />
        </div>
        <div>
          <label for="longName">Nombre Completo:</label>
          <input id="longName" [(ngModel)]="client.longName" name="longName" required />
        </div>
        <div>
          <label for="age">Edad:</label>
          <input id="age" type="number" [(ngModel)]="client.age" name="age" required />
        </div>
        <div>
          <label for="email">Correo:</label>
          <input id="email" [(ngModel)]="client.email" name="email" required />
        </div>
        <div>
          <label for="gender">Género:</label>
          <select id="gender" [(ngModel)]="client.gender" name="gender" required>
            <option value="Masculino">Masculino</option>
            <option value="Femenino">Femenino</option>
            <option value="Otro">Otro</option>
          </select>
        </div>
        <div>
          <label for="phone">Teléfono:</label>
          <input id="phone" [(ngModel)]="client.phone" name="phone" required />
        </div>
        <div>
          <label for="state">Estado:</label>
          <select id="state" [(ngModel)]="client.state" name="state" required>
            <option value="Activo">Activo</option>
            <option value="Inactivo">Inactivo</option>
          </select>
        </div>
        <div>
          <label for="nationality">Nacionalidad:</label>
          <input id="nationality" [(ngModel)]="client.nationality" name="nationality" required />
        </div>
        <div>
          <label for="canDrive">¿Puede conducir?</label>
          <input type="checkbox" id="canDrive" [(ngModel)]="client.canDrive" name="canDrive" />
        </div>
        <div>
          <label for="isDiabetic">¿Es diabético?</label>
          <input type="checkbox" id="isDiabetic" [(ngModel)]="client.isDiabetic" name="isDiabetic" />
        </div>
        <div>
          <label for="wearGlasses">¿Usa gafas?</label>
          <input type="checkbox" id="wearGlasses" [(ngModel)]="client.wearGlasses" name="wearGlasses" />
        </div>
        <div>
          <label for="otherDiseases">Otras enfermedades:</label>
          <textarea id="otherDiseases" [(ngModel)]="client.otherDiseases" name="otherDiseases" rows="4" cols="50"></textarea>
        </div>
        <button class="btnSave" type="submit">Guardar Cambios</button>
        <button class="btnMod" (click)="toggleEdit()">{{ isEditing ? 'Cancelar' : 'Modificar' }}</button>
        <button class="btnDelete" (click)="confirmDelete()">Eliminar</button>
      </form>
    }
  
    <!-- En modo edit off mostraremos el cliente y su info -->
    @if(!isEditing){
      <div class="client-card">
        <h2 class="card-title">Detalles del Cliente</h2>
        <div class="card-content">
          <!-- Primer Bloque -->
          <div class="card-section">
            <div class="info-row two-columns">
              <div class="column">
                <div class="info-item">
                  <span class="label">ID:</span>
                  <span class="value">{{ client.id }}</span>
                </div>
                <div class="info-item">
                  <span class="label">Nombre:</span>
                  <span class="value">{{ client.longName }}</span>
                </div>
                <div class="info-item">
                  <span class="label">Email:</span>
                  <span class="value">{{ client.email }}</span>
                </div>
              </div>
              <div class="column">
                <div class="info-item">
                  <span class="label">Edad:</span>
                  <span class="value">{{ client.age }}</span>
                </div>
                <div class="info-item">
                  <span class="label">Género:</span>
                  <span class="value">{{ client.gender }}</span>
                </div>
                <div class="info-item">
                  <span class="label">Nacionalidad:</span>
                  <span class="value">{{ client.nationality }}</span>
                </div>
              </div>
            </div>
          </div>
      
          <!-- Segundo Bloque -->
          <div class="card-section">
            <div class="info-row two-columns">
              <div class="column">
                <div class="info-item">
                  <span class="label">¿Puede conducir?:</span>
                  <span class="value">{{ client.canDrive ? 'Sí' : 'No' }}</span>
                </div>
                <div class="info-item">
                  <span class="label">¿Es diabético?:</span>
                  <span class="value">{{ client.isDiabetic ? 'Sí' : 'No' }}</span>
                </div>
                <div class="info-item">
                  <span class="label">¿Usa gafas?:</span>
                  <span class="value">{{ client.wearGlasses ? 'Sí' : 'No' }}</span>
                </div>
              </div>
              <div class="column">
                <div class="info-item">
                  <span class="label">Teléfono:</span>
                  <span class="value">{{ client.phone }}</span>
                </div>
                <div class="info-item">
                  <span class="label">Estado:</span>
                  <span class="value">{{ client.state }}</span>
                </div>
              </div>
            </div>
          </div>
      
          <!-- Tercer Bloque -->
          <div class="card-section">
            <div class="info-row">
              <div class="info-item">
                <span class="label">Otras enfermedades:</span>
                <textarea class="value-textarea" disabled>{{ client.otherDiseases }}</textarea>
                
                <button class="btnMod" (click)="toggleEdit()">{{ isEditing ? 'Cancelar' : 'Modificar' }}</button>
                    
              </div>
            </div>
          </div>
        </div>
      </div>
            
    }
      
    <!-- confirmamos eliminiación -->
    @if(isConfirmingDelete){
    <div class="confirmation-dialog">
      <p>¿Estás seguro de que deseas eliminar este cliente?</p>
      <button (click)="onDelete(client.id)">Sí</button>
      <button (click)="cancelDelete()">No</button>
    </div>
    }
  </div>
}
